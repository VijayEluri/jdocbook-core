apply plugin: 'java'
apply plugin: 'maven'

defaultTasks 'classes'

repositories {
    mavenCentral()
    mavenRepo name: "jboss", urls: "http://repository.jboss.org/maven2/"
    mavenRepo urls: "file://" + System.getProperty('user.home') + "/.m2/repository/"
}

//configurations {
//    deployerJars
//}

dependencies {
    slf4jVersion = '1.5.8'
    commonsExecVersion = '1.0.1'
    doctypeChangerVersion = '1.1'
    xmlResolverVersion = '1.1'
    xercesVersion = '2.8.0'
    saxonVersion = '6.5.3'
    plexusUtilsVersion = '2.0.3'
    fopVersion = 'svn-r784789'
    avalonVersion = '4.3.1'
    jdomVersion = '1.0'

    junitVersion = '3.8.2'

    compile(
            [group: 'org.slf4j', name: 'slf4j-api', version: slf4jVersion],
            [group: 'org.apache.commons', name: 'commons-exec', version: commonsExecVersion],
            [group: 'net.socialchange.doctype', name: 'doctype-changer', version: doctypeChangerVersion],
            [group: 'xml-resolver', name: 'xml-resolver', version: xmlResolverVersion],
            [group: 'xerces', name: 'xercesImpl', version: xercesVersion],
            [group: 'saxon', name: 'saxon', version: saxonVersion],
            [group: 'org.codehaus.plexus', name: 'plexus-utils', version: plexusUtilsVersion],
            [group: 'org.apache.xmlgraphics', name: 'fop', version: fopVersion],
            [group: 'org.apache.xmlgraphics', name: 'xmlgraphics-commons', version: 'fop-'+fopVersion],
            [group: 'org.apache.avalon.framework', name: 'avalon-framework-api', version: avalonVersion],
            [group: 'org.apache.avalon.framework', name: 'avalon-framework-impl', version: avalonVersion],
            [group: 'jdom', name: 'jdom', version: jdomVersion]
    )
    testCompile(
            [group: 'junit', name: 'junit', version: junitVersion],
            [group: 'org.slf4j', name: 'jcl-over-slf4j', version: slf4jVersion],
            [group: 'org.slf4j', name: 'slf4j-simple', version: slf4jVersion]
    )
//    deployerJars "org.apache.maven.wagon:wagon-webdav:1.0-beta-2"
}

group = 'org.jboss.jdocbook'
version = '1.0.0-SNAPSHOT'

manifest.mainAttributes(
    provider: 'gradle',
    'Implementation-Url': 'http://jboss.org',
    'Implementation-Version': version,
    'Implementation-Vendor': 'JBoss.org',
    'Implementation-Vendor-Id': 'org.jboss'
)
//
//uploadArchives {
//    repositories.mavenDeployer {
//        name = 'jbossDeployer'
//        configuration = configurations.deployerJars
//        snapshotRepository(url: "dav:https://snapshots.jboss.org/maven2") {
//            authentication(userName: , password: "myPassword")
//        }
//    }
//}